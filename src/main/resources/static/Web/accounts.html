<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style-accounts.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous" />
  <link rel="shortcut icon" href="../assets/logo-pig.png" type="image/x-icon" />
  <!-- animaciones divs -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <title>Your Accounts || Mindhub Brothers</title>
</head>

<body>
  <div id="app">
    <div>
      <!-- HEADER DESKTOP----------  -->
      <header class="header-desktop">
        <div class="header-izquierdo text-white d-flex flex-column">
          <div class="ms-4 mt-2 d-flex align-items-center">
            <img src="../assets/logo-pig.png" class="img-logo" alt="" />
            <p class="banco-header m-0 ms-3">Mindhub Brothers</p>
          </div>
          <div class="mje-welcome-header text-white d-flex flex-column justify-content-center align-items-center">
            <img src="../assets/img-melba.PNG" alt="" class="perfil" />
            <h1>Welcome {{client.firstName}}!</h1>
            <p class="text-white">We have missed you a lot!</p>
            <a href="#main" class="text-white btn-seeoperations bg-grayy">See operations</a>
          </div>
        </div>
        <div class="header-derecho">
          <nav class="container-fluid d-flex justify-content-evenly mt-3">
            <a href="../index.html">Home</a>
            <a href="cards.html">Cards</a>
            <a href="./transfers.html">Transfers</a>
            <a href="#" class="log-out" @click="cerrarSesion">Log out</a>
          </nav>
          <img src="../assets/Hello-rafiki.svg" alt="" />
        </div>
      </header>
      <!-- HEADER MOVIL -->
      <header class="header-movil flex-column">
        <nav class="menu-movil d-flex justify-content-evenly align-items-center">
          <div class="d-flex flex-column justify-content-center align-items-center">
            <a href="../index.html" class="menu-movil-home"></a>
            <p class="p-nav-movil">Home</p>
          </div>
          <div class="d-flex flex-column justify-content-center align-items-center">
            <a href="./cards.html" class="menu-movil-cards"></a>
            <p class="p-nav-movil">Cards</p>
          </div>
          <div class="d-flex flex-column justify-content-center align-items-center">
            <a href="./transfers.html" class="menu-movil-transfer"></a>
            <p class="p-nav-movil">transfer</p>
          </div>
          <div class="d-flex flex-column justify-content-center align-items-center">
            <a href="#" class=" menu-movil-logout" @click="cerrarSesion"></a>
            <p class="p-nav-movil">Log out</p>
          </div>


        </nav>
        <div class="d-flex justify-content-center div-sup-movil align-items-center">
          <img src="../assets/logo-pig.png" class="img-logo" alt="" />
          <div class="m-0 ms-3 text-white">Mindhub Brothers</div>
        </div>
        <div class="div-welcome-movil d-flex flex-column justify-content-center align-items-center">
          <img src="../assets/img-melba.PNG" alt="" class="perfil" />
          <h1 class="text-white">Welcome Melba!</h1>
          <div class="img-header-movil"></div>
          <p class="text-white">We have missed you a lot!</p>
          <a href="#main" class="text-white btn-seeoperations bg-grayy">See operations</a>
        </div>
      </header>
      <!-- MAIN---------------  -->
      <main class="d-flex flex-column justify-content-center flex-wrap">
        <div class="espacio"></div>
        <!-- Opciones SECTION-1-->
        <section class="section-1 d-flex flex-column ">
          <div data-aos="fade-right" data-aos-offset="150" data-aos-easing="ease-in-sine"
            class="d-flex what-do-you-whant" id="main">
            <h2 class="d-flex text-white" id="flech">
              What do you </br> whant to do?
            </h2>
          </div>
          <div>
            <div class="d-flex cartas-options  container-fluid justify-content-center">
              <a href="#Accounts" class="me-4 text-center bg-gray rounded p-2 card-main-options">
                <div>
                  <h4 class="m-0 option-text">See</h4>
                  <h3 class="m-0 option-text">Your Accounts</h3>
                </div>
                <div class="img-card-section1 img-chanchito"></div>
              </a>

              <a href="#Loans" class="me-4 text-center bg-gray rounded p-2 card-main-options">
                <div>
                  <h4 class="m-0 option-text">See</h4>
                  <h3 class="m-0 option-text">Your Loans</h3>
                </div>
                <div class="img-card-section1 img-coins"></div>
              </a>
              <a href="cards.html" class=" text-center bg-gray rounded p-2 card-main-options">
                <div>
                  <h4 class="m-0 option-text">See</h4>
                  <h3 class="m-0 option-text">Your Cards</h3>
                </div>
                <div class="img-card-section1 img-cards"></div>
              </a>
            </div>
            <div class="d-flex justify-content-evenly mt-4">
              <a href="#Accounts" class="btn">See Accounts</a>
              <a href="#Loans" class="btn">See Loans</a>
              <a href="cards.html" class="btn">See Cards</a>
            </div>
          </div>
        </section>
        <!-- Accounts SECTION-2-->
        <section id="Accounts" class="section-2 bg-dark d-flex">
          <img src="../assets/Plain credit card-rafiki.svg" alt="" class="img-accounts" />
          <div class="div-cont-accounts d-flex justify-content-center align-items-center flex-column">
            <div data-aos="fade-right" data-aos-offset="300" data-aos-easing="ease-in-sine">
              <h2 class="ms-4 align-self-start text-h2-main mb-4">
                Your Accounts
              </h2>
            </div>
            <div>
              <div data-aos="fade-right" v-for="account in enabledClientAccounts" class="mb-4 ">
                <div class="d-flex justify-content-center align-items-center">
                  <div @click="goToAcocunt(account.id)" class="a-carta">
                    <div class="div-carta rounded d-flex justify-content-between">
                      <div>
                        <h2 class="text-white">{{account.number}}</h2>
                        <p class="text-white">Creation Date: {{account.creationDate.slice(0,10)}}</p>
                        <p class="text-white">Type: {{account.accountType}}</p>
                      </div>
                      <div>
                        <h3 class="balance">${{account.balance}}</h3>
                        <a :href="'account.html?id='+account.id"
                          class="text-dark d-flex align-self-end btn-see-more rounded">See
                          more</a>

                      </div>
                    </div>
                  </div><img src="../assets/icons8-trash-32.png" alt="trash" class="trash ms-2"
                    @click="removeAccount(account.id)">
                </div>
              </div>

              <button class="btn" v-show="lengthDeAccounts<3" @click="aparecerModal='si'">
                Create new Account
              </button>
              <p>{{mjeErrorCreateAccount}}</p>
            </div>
          </div>
          <img src="../assets/Plain credit card-rafiki.svg" alt="" class="img-accounts-2" />
        </section>
        <!-- Loans SECTION-3-->
        <section id="Loans" class="section-3 d-flex justify-content-between align-items-center">
          <div class="d-flex justify-content-center align-items-center flex-column div-section3">
            <div class="section3-texto rounded d-flex   flex-column">
              <div data-aos="fade-right" data-aos-offset="300" data-aos-easing="ease-in-sine">
                <h2 class=" mb-4">
                  Your Loans
                </h2>
              </div>
              <div>
                <div v-for="loan in loans" class="carta-loans rounded m-4 d-flex">
                  <h2 class="h2-loans p-2 rounded me-4 d-flex justify-content-center align-items-center">
                    {{loan.name}}
                  </h2>
                  <div>
                    <p>Amount: ${{loan.amount}}</p>
                    <p>Payments: {{loan.payments}}</p>
                  </div>
                </div>
                <a class="btn" href="./loan-application.html">
                  Apply
                </a>
              </div>
            </div>
          </div>
          <img src="../assets/Savings-pana.svg" alt="" class="loans-img" />
        </section>
      </main>
      <!-- MODAL--------------- -->
      <div v-if="aparecerModal=='si'"
        class="text-dark modalWindow d-flex flex-column justify-content-center align-items-center">
        <div class="d-flex flex-column">
          <div @click="aparecerDivSuccess=='si' ? reload() : cancelTransaction()"
            class="cancel-transaction align-self-end"></div>
          <div class="contenedor-mensaje-modal d-flex">
            <!-- DIV CONFIRMAR OPERACION -->
            <div v-if="aparecerDivConfirm=='si'" class="div-confirm d-flex flex-column justify-content-between">
              <h3 class="text-center py-2">Verification</h3>
              <div>
                <p class="text-center ">
                  Select the type of Account that you want
                </p>
                <div class="div-btns-newAccount d-flex justify-content-center align-items-center">
                  <button class="btn-typeNewAccount"
                    @click="aparecerDivConfirm='no', createNewAccount('CURRENT')">Current account</button>
                  <button class=" ms-4 btn-typeNewAccount"
                    @click="aparecerDivConfirm='no', createNewAccount('SAVING')">Saving Acocunt</button>
                </div>
              </div>

              <div class="pb-2 d-flex justify-content-center align-items-center">
                <!-- <button
                @click="aparecerDivConfirm='no'"
                class="btn-confirm"
              >
                Confirm
              </button> -->
                <button @click="cancelTransaction" class="cancel-confirm">
                  Cancel
                </button>
              </div>
            </div>
            <!-- DIV OPERACION EXITOSA -->
            <div v-if="aparecerDivSuccess=='si'" class="div-success d-flex justify-content-between">
              <div>
                <div class="checked"></div>
                <p class="text-div-success d-flex justify-content-center align-items-center">
                  Removed successfully!
                </p>
                <div class="d-flex justify-content-center">
                  <a @click="reload" class="btn-see-cards a">OK</a>
                </div>
              </div>

              <div class="cont-verde d-flex justify-content-center align-items-center mje-great">
                Great!
              </div>
            </div>
            <!-- DIV OCURRIÓ UN ERRROR -->
            <div v-if="aparecerDivError=='si'" class="div-error d-flex justify-content-between">
              <div>
                <div class="img-error"></div>

                <div class="text-div-error d-flex flex-column justify-content-center align-items-center">
                  <p class="mje-error">Something went wrong</p>
                  <p class="ms-4">{{errorPetición}}</p>
                </div>

                <div class="d-flex justify-content-center">
                  <button @click="cancelTransaction" class="btn-ok a">
                    Ok
                  </button>
                </div>
              </div>
              <div class="cont-rojo d-flex justify-content-center align-items-center mje-great">
                Mmm...
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- FOOTER---------  -->
      <footer class="footer text-white d-flex justify-content-between align-items-center">
        <div class="d-flex">
          <img class="footer-icon" src="../assets/icons8-pig-60-gray.png" alt="" />
          <p class="tfooter">MINDHUB BROTHERS</p>
        </div>

        <div>
          <p class="creat-footer">@Mindhub | Claudia Mariela Ruiz</p>
        </div>
      </footer>
    </div>
  </div>
  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://unpkg.com/vue@3"></script>
  <script src="accounts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>
</body>

</html>